<div class="container" data-ng-controller="LessonController">
    <div class="row">
        <div class="col-md-12">
            <form ng-submit="onSubmit">
                {{sendModel}}
                <div class="panel panel-default" ng-repeat="(key,val) in lessonConfig">
                    <!-- title -->
                    <div class="panel-heading">
                        <div class="panel-title">{{key}}</div>
                    </div>
                    <!-- body -->
                    <div class="panel-body">
                        <div class="row">
                            <div class="{{val.childRow}} || col-md-12">
                                <div class="row">
                            <div ng-repeat="(objectKey, object) in val.formItems" ng-if="!isArray(val)"><!-- if there is an array, there is multi-level rows -->
                                <div class="{{object.colClass}}">
                                    <div class="form-group">
                                        <!--<div class="form-group">-->
                                        <label>{{object.label}}</label>
                                        <input ng-if="object.type === 'input'" type="{{object.type}}" class="form-control" id="lessontitle" placeholder="Lesson Title" ng-model="sendModel[key][object.name]">
                                        <select ng-if="object.type === 'select'" class="form-control" ng-model="sendModel[key][object.name]">
                                            <option ng-repeat="item in object.selectOptions">{{item}}</option>
                                        </select>
                                        <!--<input ng-if="object.type === 'typeahead'" type="text" ng-model="object.typeAheadOptions" placeholder="Custom template" uib-typeahead="label as option.values.label for option in object.typeAheadOptions | filter:{label:$viewValue}" class="form-control" typeahead-show-hint="true" typeahead-min-length="0" ng-model="sendModel[key][object.name]">-->
                                    </div>
                                </div>
                            </div>
                            <div ng-repeat="subrow in val" ng-if="isArray(val)"><!-- if there is an array with multi row items -->
                                <div class="{{subrow.childRow}}">
                                    <div class="form-group">
                                    <div ng-repeat="object in subrow.formItems">
                                        <div class="{{object.colClass}}">
                                        <!--<div ng-repeat="object in groupy">-->
                                            <!--<div class="form-group">-->
                                            <label>{{object.label}}</label>
                                            <input ng-if="object.type === 'input'" type="{{object.type}}" class="form-control" id="lessontitle" placeholder="Lesson Title"
                                            ng-model="form.lessonUpload.lessonTitle" ng-model="sendModel[key][object.name]">
                                            <select ng-if="object.type === 'select'" class="form-control" ng-model="sendModel[key][object.name]">
                                                <option ng-repeat="item in object.selectOptions">{{item}}</option>
                                            </select>
                                            <!-- <input
                                                ng-if="object.type === 'typeahead'" 
                                                type="text" 
                                                ng-model="object.typeAheadOptions" 
                                                placeholder="Select Subject Areas" 
                                                uib-typeahead="for opt in option.values for option in object.typeAheadOptions | filter:{label:$viewValue}" 
                                                class="form-control" 
                                                typeahead-show-hint="true" 
                                                typeahead-min-length="0"
                                                ng-model="sendModel[key][object.name]"> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--</div></div>-->
                        </div>
                    </div>      
                   </div></div>
                   </div></div>  
            </form>
            <button type="submit" class="btn btn-default" ng-click="onSubmit()">Submit</button>
            </div>
        </div>
    </div>